<view class="container">
  <!-- 顶部标题 -->
  <view class="header">
    <text class="title">拖拽区域工作台</text>
  </view>

  <!-- 正反面切换 -->
  <view class="side-switch">
    <view class="switch-button {{currentSide === 'front' ? 'active' : ''}}" bindtap="switchSide" data-side="front">
      正面
    </view>
    <view class="switch-button {{currentSide === 'back' ? 'active' : ''}}" bindtap="switchSide" data-side="back">
      反面
    </view>
  </view>
  
  <view class="main-content">
    <!-- 工作区组件 -->
    <view class="workspace">
      <view class="workspace-header">
        <text class="workspace-title">工作区 - {{currentSide === 'front' ? '正面' : '反面'}}</text>
      </view>
      
      <drag-workspace 
        current-side="{{currentSide}}"
        show-area-guides-primitive="{{showAreaGuidesPrimitive}}"
        main-primitive="{{mainPrimitive}}"
        patches-primitive="{{patchesPrimitive}}"
        movable-area-primitive="{{movableAreaPrimitive}}"
        non-movable-areas-primitive="{{nonMovableAreasPrimitive}}"
        bind:areaGuidesChange="onAreaGuidesChange"
        bind:patchActivate="onPatchActivate"
        bind:patchDelete="onPatchDelete"
        bind:snapshotGenerated="onSnapshotGenerated"
        bind:hideAreaGuidesForSnapshot="onHideAreaGuidesForSnapshot"
        bind:restoreAreaGuidesAfterSnapshot="onRestoreAreaGuidesAfterSnapshot"
      />
    </view>
    
    <!-- 控制面板 -->
    <view class="controls">
      <view class="control-group">
        <view class="control-title">
          <text class="icon">+</text>
          <text>添加贴件</text>
        </view>
        <view class="button-group">
          <button class="btn-add" bindtap="addPatch" data-size="small">小贴件</button>
          <button class="btn-add" bindtap="addPatch" data-size="medium">中贴件</button>
          <button class="btn-add" bindtap="addPatch" data-size="large">大贴件</button>
        </view>
      </view>
    </view>
  </view>
</view>